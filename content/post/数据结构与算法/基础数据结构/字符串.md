---
title: "1 字符串 (String)"
date: 2023-01-01T01:01:01+08:00
categories: ["D:"]
tags: ["D:"]
draft: false
---
# 1 字符串 (String)

## 1.1 基本概念

### 1.1.1 定义

- 字符串是由零个或多个字符组成的有限序列
- 在 Java 中是不可变对象
- 支持多种字符编码（ASCII、Unicode 等）

```mermaid
graph TD
    subgraph "字符串在内存中的表示"
        S["String对象"] --> H["Header"]
        S --> V["value[]"]
        V --> C1["H"]
        C1 --> C2["e"]
        C2 --> C3["l"]
        C3 --> C4["l"]
        C4 --> C5["o"]
    end
    
    style S fill:#f9f,stroke:#333,stroke-width:2px
    style H fill:#bbf,stroke:#333,stroke-width:2px
    style V fill:#bfb,stroke:#333,stroke-width:2px
    style C1,C2,C3,C4,C5 fill:#fbb,stroke:#333,stroke-width:2px
```

### 1.1.2 特性

1. **不可变性**

   - Java 中 String 对象不可变
   - 修改会创建新对象
   - 线程安全

```mermaid
graph LR
    subgraph "字符串不可变性示例"
        S1["s1 = \"Hello\""] --> V1["Hello"]
        S2["s2 = s1 + \" World\""] --> V2["Hello World"]
        V1 -->|"不变"| V1
    end
    
    style S1,S2 fill:#f9f,stroke:#333,stroke-width:2px
    style V1,V2 fill:#bfb,stroke:#333,stroke-width:2px
```

2. **编码方式**
   - ASCII（1 字节）
   - Unicode（2 或 4 字节）
   - UTF-8（变长编码）

## 1.2 基本操作

### 1.2.1 创建和修改

```java
public class StringOperations {
    // 创建字符串
    String str1 = "Hello";
    String str2 = new String("World");

    // 字符串拼接
    public String concatenate(String s1, String s2) {
        // 1. 使用 + 运算符
        String result1 = s1 + s2;

        // 2. 使用 StringBuilder
        StringBuilder sb = new StringBuilder();
        sb.append(s1).append(s2);
        String result2 = sb.toString();

        // 3. 使用 String.concat()
        String result3 = s1.concat(s2);

        return result2;  // 推荐使用StringBuilder
    }
}
```

