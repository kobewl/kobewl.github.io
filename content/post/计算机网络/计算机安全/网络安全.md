---
title: "1 常见的攻击方式"
date: 2023-01-01T01:01:01+08:00
categories: ["D:"]
tags: ["D:"]
draft: false
---
# 1 常见的攻击方式

^412da5

## 1.1 XSS (Cross-Site Scripting) 跨站脚本攻击

- **定义**：攻击者通过在网页中注入恶意脚本，当用户浏览网页时，脚本会被执行
- **类型**：
  - 存储型 XSS：恶意代码存储在数据库中，访问页面时从数据库加载并执行
  - 反射型 XSS：恶意代码存在 URL 中，服务器接收后返回给浏览器执行
  - DOM 型 XSS：通过修改页面 DOM 节点形成攻击，完全在浏览器端完成
- **危害**：
  - 窃取用户 Cookie 信息
  - 劫持用户会话
  - 篡改页面内容
  - 植入恶意广告

## 1.2 CSRF (Cross-Site Request Forgery) 跨站请求伪造

^abae22

- **定义**：攻击者诱导用户访问已被认证过的网站，利用用户信任关系执行非法操作
- **攻击流程**：
  1. 用户登录 A 网站，获得合法身份认证
  2. 用户访问攻击者的 B 网站，触发恶意请求
  3. B 网站向 A 网站发送伪造请求，携带用户 Cookie
- **危害**：
  - 修改用户信息
  - 盗取用户资金
  - 篡改用户数据

## 1.3 SQL 注入 (SQL Injection)

- **定义**：通过 SQL 语句注入，实现非法数据库操作
- **常见方式**：
  - 数字型注入：在数字参数中注入 SQL 语句
  - 字符型注入：在字符串参数中注入 SQL 语句
  - 搜索型注入：在搜索条件中注入 SQL 语句
- **危害**：
  - 越权访问数据库
  - 篡改数据库内容
  - 获取敏感信息
  - 删除数据库数据

## 1.4 DDoS 攻击 (Distributed Denial of Service)

- **定义**：分布式拒绝服务攻击，通过大量请求使服务器瘫痪
- **常见类型**：
  - SYN Flood：利用 TCP 三次握手机制发送大量 SYN 包
  - UDP Flood：发送大量 UDP 数据包消耗带宽
  - HTTP Flood：发送大量 HTTP 请求耗尽服务器资源
  - DNS Amplification：利用 DNS 服务器放大攻击流量
- **危害**：
  - 服务器宕机
  - 网络带宽耗尽
  - 系统资源耗尽

## 1.5 中间人攻击 (Man-in-the-Middle)

- **定义**：攻击者拦截并篡改通信双方的数据
- **攻击方式**：
  - ARP 欺骗：伪造 MAC 地址获取数据包
  - DNS 劫持：篡改 DNS 解析结果
  - SSL 劫持：伪造证书拦截 HTTPS 流量
- **危害**：
  - 窃取敏感信息
  - 篡改通信内容
  - 冒充合法用户

# 2 安全防护措施

^e16c32

## 2.1 XSS 防护

1. **输入过滤**：
   - 对特殊字符进行转义（如 <、>、"、' 等）
   - 使用白名单过滤 HTML 标签
   - 验证数据类型和长度
2. **输出编码**：
   - HTML 编码：将特殊字符转换为 HTML 实体
   - JavaScript 编码：对 JavaScript 中的特殊字符进行转义
3. **CSP 策略**：
   - 限制资源来源：只允许加载受信任域名的资源
   - 禁止内联脚本：避免 XSS 攻击
   - 启用报告模式：监控违规情况

## 2.2 CSRF 防护

1. **Token 验证**：
   - 在表单中添加随机 Token：每次请求生成唯一标识
   - 验证 Token 有效性：服务端校验 Token 是否匹配
2. **Same-Site Cookie**：
   - 限制第三方 Cookie 访问：设置 SameSite 属性
   - 强制使用 Secure 标志：确保通过 HTTPS 传输
3. **验证请求来源**：
   - 检查 Referer：验证请求来源是否合法
   - 使用自定义 Header：添加特定的请求头进行验证

## 2.3 SQL 注入防护

1. **参数化查询**：
   - 使用 PreparedStatement：预编译 SQL 语句
   - 避免字符串拼接 SQL：防止 SQL 注入
2. **输入验证**：
   - 类型检查：确保参数类型正确
   - 长度限制：防止超长输入
3. **最小权限原则**：
   - 合理分配数据库权限：限制用户操作范围
   - 使用存储过程：封装 SQL 操作

## 2.4 DDoS 防护

1. **流量清洗**：
   - 过滤异常流量：识别和阻止攻击流量
   - 黑名单封禁：封禁恶意 IP 地址
2. **负载均衡**：
   - 分布式部署：多服务器分担压力
   - CDN 加速：分散流量压力
3. **防火墙配置**：
   - 限制连接数：控制单 IP 连接数量
   - 配置访问规则：设置访问白名单

## 2.5 密码学与安全机制

### 2.5.1 对称加密

1. **工作原理**：

   - 加密解密使用相同密钥
   - 密钥需要安全传输
   - 适用于大量数据加密

2. **常用算法**：
   - **AES (Advanced Encryption Standard)**
     - 密钥长度：128/192/256 位
     - 分组长度：128 位
     - 优点：加解密速度快，安全性高
     - 应用：TLS 通信，文件加密
   - **DES (Data Encryption Standard)**
     - 密钥长度：56 位
     - 已被 AES 取代
     - 缺点：密钥太短，易被暴力破解
   - **3DES (Triple DES)**
     - 对数据进行三次 DES 加密
     - 密钥长度：112/168 位
     - 仍在金融领域使用

### 2.5.2 非对称加密

1. **工作原理**：

   - 使用公钥加密，私钥解密
   - 公钥可以公开，私钥需保密
   - 计算复杂，适用于小数据量加密

2. **常用算法**：
   - **RSA**
     - 基于大数分解难题
     - 密钥长度：2048/4096 位
     - 应用：数字签名，密钥交换
     - 优点：使用广泛，实现简单
   - **ECC (Elliptic Curve Cryptography)**
     - 基于椭圆曲线离散对数问题
     - 密钥长度：256 位即可达到 RSA 2048 位的安全性
     - 优点：密钥短，计算快，安全性高
     - 应用：移动设备，IoT 设备

### 2.5.3 Hash 算法

1. **工作原理**：

   - 将任意长度数据映射为固定长度
   - 单向不可逆
   - 抗碰撞性

2. **常用算法**：
   - **MD5**
     - 输出 128 位散列值
     - 已被破解，不推荐用于安全场景
     - 仍用于文件完整性校验
   - **SHA 系列**
     - SHA-1：输出 160 位，已不安全
     - SHA-256：输出 256 位，推荐使用
     - SHA-3：新一代标准，抗量子计算

### 2.5.4 数字签名

1. **工作原理**：

   - 使用私钥对数据进行签名
   - 使用公钥验证签名
   - 确保数据完整性和不可否认性

2. **签名过程**：

   - 对原文进行 Hash
   - 使用私钥加密 Hash 值
   - 将签名附加到原文

3. **验证过程**：

   - 获取原文的 Hash 值
   - 使用公钥解密签名
   - 比对两个 Hash 值

4. **应用场景**：
   - 软件包签名验证
   - 电子合同
   - 代码签名
   - SSL/TLS 证书签名

### 2.5.5 密钥交换

1. **DH (Diffie-Hellman)**：

   - 基于离散对数问题
   - 允许双方在不安全信道上协商密钥
   - 易受中间人攻击

2. **ECDH**：
   - 基于椭圆曲线的 DH
   - 更短的密钥长度
   - 更高的安全性

## 2.6 SSL/TLS 安全传输层协议

### 2.6.1 协议版本

1. **发展历程**：

   - SSL 2.0/3.0：已废弃
   - TLS 1.0/1.1：不安全
   - TLS 1.2：广泛使用
   - TLS 1.3：最新版本，性能更好

2. **主要改进**：
   - 移除不安全的加密算法
   - 简化握手过程
   - 提高性能和安全性

### 2.6.2 工作机制

1. **握手过程**：

   - Client Hello：发送支持的加密套件
   - Server Hello：选择加密套件
   - 证书交换：服务器发送证书
   - 密钥交换：协商会话密钥
   - 完成握手：验证握手信息

2. **证书验证**：

   - 验证证书链完整性
   - 检查证书有效期
   - 验证证书签名
   - CRL/OCSP 在线状态检查

3. **密钥交换**：
   - 使用非对称加密交换会话密钥
   - 后续通信使用对称加密
   - 定期更新会话密钥

## 2.7 Web 安全 Headers

1. **常用安全响应头**：
   - X-Frame-Options：防止点击劫持
   - X-XSS-Protection：启用浏览器 XSS 防护
   - X-Content-Type-Options：防止 MIME 类型嗅探
   - Strict-Transport-Security：强制 HTTPS
2. **Cookie 安全**：
   - HttpOnly：防止 JavaScript 访问
   - Secure：只通过 HTTPS 传输
   - SameSite：防止 CSRF 攻击

