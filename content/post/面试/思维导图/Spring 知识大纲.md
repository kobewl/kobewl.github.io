---
mindmap-plugin: basic
---

# 1 Spring 知识大纲

## 1.1 Spring 核心概念
- IoC（控制反转）[[Spring 核心概念#^d2fdd3]]
	- 概念解释
		- 将对象创建和依赖关系的控制权交给容器
		- 降低代码耦合度
		- 面向接口编程，而不是实现
	- 实现方式
		- 依赖注入（DI）
			- 构造器注入（推荐，可保证依赖不可变）
			- Setter 注入（灵活但不能保证依赖完整性）
			- 字段注入（不推荐，违反封装原则）
	- 容器类型
		- BeanFactory（基础容器）
			- 懒加载
			- 基础 IoC 容器
			- 不支持注解
			- 资源占用少
		- ApplicationContext（高级容器）
			- 预加载
			- 企业级功能
			- 支持注解
			- 国际化支持
			- 事件发布
			- AOP 集成
	- Bean 配置方式[[6 Bean#^0f0a97]]
		- XML 配置
		- 注解配置（@Component 等）
		- Java 配置（@Configuration）
	- Bean 作用域[[6 Bean#^341556]]
		- singleton（默认，单例）
		- prototype（每次请求新实例）
		- request（每个请求一个实例）
		- session（每个会话一个实例）
		- application（每个 ServletContext 一个实例）
	- Bean 生命周期详解[[6 Bean#^4579b8]]
		- 实例化前（InstantiationAwareBeanPostProcessor）
		- 实例化
		- 属性赋值
		- Aware 接口回调
		- 初始化前（@PostConstruct）
		- 初始化（InitializingBean）
		- 初始化后（BeanPostProcessor）
		- 使用中
		- 销毁前（@PreDestroy）
		- 销毁（DisposableBean）
- AOP（面向切面编程）[[Spring 核心概念#^494af1]]
	- 核心概念
		- 切面（Aspect）：横切关注点的模块化
		- 切点（Pointcut）：匹配连接点的表达式
		- 通知（Advice）：切面的具体行为
			- Before：方法执行前
			- After：方法执行后
			- Around：环绕通知
			- AfterReturning：正常返回后
			- AfterThrowing：异常抛出后
		- 连接点（JoinPoint）：程序执行的某个特定位置
		- 目标对象（Target）：被代理的对象
		- 代理（Proxy）：AOP 创建的代理对象
	- 实现方式[[Spring 核心概念#^1d29fe]]
		- 动态代理[[代理模式]]
			- JDK 动态代理（基于接口）
				- 必须实现接口
				- 生成代理类是接口的实现类
			- CGLIB 代理（基于类继承）
				- 通过继承目标类
				- 不能代理 final 类和方法
	- 应用场景
		- 事务管理（@Transactional）
		- 日志记录
		- 权限控制
		- 性能监控
		- 缓存管理
	- 切点表达式
		- execution()
		- within()
		- @annotation()
		- this()
		- target()
		- args()

## 1.2 Spring MVC
- 核心组件
	- DispatcherServlet（前端控制器）
		- 请求分发
		- 响应处理
		- 异常处理
	- HandlerMapping（处理器映射）
		- RequestMappingHandlerMapping
		- SimpleUrlHandlerMapping
		- BeanNameUrlHandlerMapping
	- HandlerAdapter（处理器适配器）
		- RequestMappingHandlerAdapter
		- HttpRequestHandlerAdapter
		- SimpleControllerHandlerAdapter
	- ViewResolver（视图解析器）
		- InternalResourceViewResolver
		- FreeMarkerViewResolver
		- ThymeleafViewResolver
	- Controller（控制器）
		- @Controller
		- @RestController
- 请求处理流程[[Spring MVC 基础#^8d2bdd]]
	- 1. 请求到达 DispatcherServlet
	- 2. DispatcherServlet 查询 HandlerMapping
	- 3. HandlerMapping 找到对应的 HandlerAdapter
	- 4. HandlerAdapter 执行 Handler
	- 5. Handler 返回 ModelAndView
	- 6. ViewResolver 解析视图
	- 7. 渲染视图并返回响应
- 常用注解详解
	- @Controller：标识控制器
	- @RestController：@Controller + @ResponseBody
	- @RequestMapping：请求映射
		- value：请求路径
		- method：请求方法
		- params：请求参数
		- headers：请求头
	- @RequestParam：请求参数绑定
	- @PathVariable：路径变量绑定
	- @RequestBody：请求体绑定
	- @ResponseBody：响应体转换
- 数据绑定
	- 简单类型
	- POJO 对象
	- 集合类型
	- 日期类型
	- 文件上传
- 拦截器
	- 配置方式
	- 执行顺序
	- 应用场景
		- 登录检查
		- 权限验证
		- 日志记录
		- 性能监控

## 1.3 Spring Boot 核心
- 自动配置原理
	- @SpringBootApplication
		- @EnableAutoConfiguration
			- @Import(AutoConfigurationImportSelector)
			- spring.factories
		- @ComponentScan
		- @SpringBootConfiguration
	- 条件注解
		- @ConditionalOnClass
		- @ConditionalOnMissingBean
		- @ConditionalOnProperty
		- @ConditionalOnWebApplication
- 核心功能
	- 起步依赖（Starters）
		- spring-boot-starter-web
		- spring-boot-starter-data-jpa
		- spring-boot-starter-security
	- 自动配置
	- 外部化配置
		- application.properties/yml
		- 命令行参数
		- 环境变量
		- 配置文件优先级
	- 内嵌服务器
		- Tomcat
		- Jetty
		- Undertow
- 常用功能
	- 日志配置
		- 默认 Logback
		- Log4j2 支持
	- 异常处理
		- @ControllerAdvice
		- @ExceptionHandler
	- 监控管理
		- Actuator
		- Spring Boot Admin
	- 缓存支持
		- @Cacheable
		- @CacheEvict
		- @CachePut
	- 安全配置
		- Spring Security
		- OAuth2

## 1.4 高频面试题
- Spring IoC
	- IoC 和 DI 的区别？
	- Spring IoC 的实现原理？
	- @Autowired 和 @Resource的区别是什么？[[6 Bean#^c5c993]]
	- BeanFactory 和 FactoryBean 的区别？
	- Spring Bean 的生命周期？
	- 循环依赖如何解决？
- Spring AOP
	- AOP 的实现原理？
	- JDK 动态代理和 CGLIB 的区别？
	- Spring AOP 和 AspectJ 的区别？
	- @Aspect 注解的原理？
- Spring MVC
	- MVC 的工作原理？
	- @RequestMapping 的原理？
	- Spring MVC 的拦截器和过滤器的区别？
	- Spring MVC 如何处理异常？
- Spring Boot
	- Spring Boot 的优势？
	- 自动配置原理？
	- starter 的工作原理？
	- 如何自定义 starter？
	- Spring Boot 的启动流程？

## 1.5 源码分析
- Spring IoC 容器源码
	- Bean 的加载过程
	- 依赖注入过程
	- 循环依赖的解决
- Spring AOP 源码
	- 代理对象的创建
	- 通知的织入过程
	- 事务实现原理
- Spring MVC 源码
	- DispatcherServlet 的工作原理
	- HandlerMapping 的实现
	- ViewResolver 的实现
- Spring Boot 源码
	- 自动配置实现
	- 启动流程分析
	- starter 加载机制